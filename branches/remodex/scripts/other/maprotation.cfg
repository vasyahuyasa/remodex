// map list
dm_maplist = "pgdm kffa complex fanatic_quake curvedm douze deathtek phosgene ruby dock justice curvy_castle duel8 industry park refuge kalking1 island powerplant wake5 killfactory shadowed corruption darkdeath"
capture_maplist = "nevil_c c_valley nmp9 urban_c face-capture reissen dust2 c_egypt capture_night nmp4 monastery hallo ph-capture hades abbey relic fc4 corruption asteroids akroseum campo killcore3 damnation arabic serenity"
flag_maplist = "tejen face-capture reissen forge authentic wdcd dust2 flagstone capture_night urban_c shipwreck l_ctf valhalla mach2 mercury akroseum europium abbey redemption damnation campo nitro recovery infamy tempest hallo"

// mode listw
dm_modelist = "0 2 3 4 5 6 7 8" // ffa insta eff, team
flag_modelist = "11 12 13 14 17 18"
capture_modelist = "9 10"
hold_modelist = "15 16 19"

nextmap = [	
	mode_ = (getmode)
	map_ = ""
	currmap = (getmap)
	maplist = ""

	if (isinlist $dm_modelist $mode_) [ maplist = $dm_maplist] 
	if (isinlist $flag_modelist $mode_) [ maplist = $flag_maplist] 
	if (isinlist $capture_modelist $mode_) [ maplist = $capture_maplist] 
	if (isinlist $hold_modelist $mode_) [ maplist = $capture_maplist] 

	// choose next map
	orderlen = (- (listlen $maplist) 1) // order len to index
	mapindex = (indexof $maplist $currmap)

	// map in list and not last
	if (&& (!= $mapindex -1) (< $mapindex $orderlen)) [ 
		map_ = (at $maplist (+ $mapindex 1))
	] [
		map_ = (at $maplist 0)
	]

	if (=s $map_ "") [ $map_ = $currmap ]
	result $map_
]
